(()=>{"use strict";var t,e,o,s,n={237:(t,e,o)=>{o.a(t,(async(t,e)=>{try{var s=o(283),n=o(126),a=t([n]);n=(a.then?(await a)():a)[0],console.log("API URL:",n.CR);let r=0;function c(){s.d$.forEach(((t,e)=>{t.addEventListener("click",(()=>{s.hP[r].classList.remove("active"),s.d$[r].classList.remove("active"),r=e,s.d$[r].classList.add("active"),s.hP[r].classList.add("active")}))})),setInterval((()=>{s.hP[r].classList.remove("active"),s.d$[r].classList.remove("active"),r++,r===s.gE&&(r=0),s.hP[r].classList.add("active"),s.d$[r].classList.add("active")}),5e3)}c(),e()}catch(i){e(i)}}))},283:(t,e,o)=>{o.d(e,{d$:()=>n,gE:()=>a,hP:()=>s}),document.querySelector(".main__slider");const s=document.querySelectorAll(".slides"),n=document.querySelectorAll(".main__news-arrow"),a=s.length},126:(t,e,o)=>{o.a(t,(async(t,s)=>{try{o.d(e,{CR:()=>c,MY:()=>i,bE:()=>y,kd:()=>l});var n=o(218),a=o(294),r=t([n]);n=(r.then?(await r)():r)[0];const c="https://www.googleapis.com/books/v1/volumes?q='subject:Business'&key=AIzaSyBr9B3Uw7C3Fi4NVVrg2ypGn2YRo7JewKU&printType=books&startIndex=0&maxResults=6&langRestrict=en";class i{constructor(t,e,o,s,n,a,r,c,i){this.id=t,this.title=e,this.authors=o,this.description=s,this.image=n,this.price=a,this.currency=r,this.categories=c,this.isAdded=!1,this.rating=i}render(){const t=document.createElement("div");t.classList.add("main__books-option"),t.setAttribute("data-category",this.categories),t.setAttribute("data-id",this.id);const e=localStorage.getItem("shoppingCart"),o=(JSON.parse(e)||[]).includes(this.id);return t.innerHTML=`\n      <img class="main__books-cover" src="${this.image}" alt="book"/>\n        <div class="main__books-book">\n          <p>${this.authors}</p>\n          <h1>${this.title}</h1>\n          <div class="main__books-review" style="${this.rating?"display: flex":"display: none"}">\n              <img src="./src/assets/star.svg" alt="star" />\n              <img src="./src/assets/star.svg" alt="star" />\n              <img src="./src/assets/star.svg" alt="star" />\n              <img src="./src/assets/star.svg" alt="star" />\n              <img src="./src/assets/star.svg" alt="star" />\n              <p>252 review</p>\n          </div>\n              <h2 class="main__books-annotation">\n                  ${this.description}\n               </h2>\n                <p class="main__books-price"><span>${this.currency} </span>${this.price}</p>\n                 <button class="main__books-btn ${o?"clicked":" "}">${o?"in the cart":"buy now"}</button>\n        </div>\n      `,t}isAddedToCart(){this.isAdded||(this.isAdded=!0,console.log(this.isAdded))}}const l=document.querySelector(".main__books-options"),d=localStorage.getItem("shoppingCart"),u=JSON.parse(d)||[],p=[];function h(){const t=document.querySelector(".header__count");let e=parseInt(localStorage.getItem("count"))||0;e++,t.style.display="flex",t.textContent=e,(0,n.R$)(e),console.log(e)}function m(){const t=document.querySelector(".header__count");let e=parseInt(localStorage.getItem("count"));e--,t.style.display="flex",t.textContent=e,(0,n.R$)(e),console.log(e)}function g(t){const e=u.indexOf(t);e>-1&&(u.splice(e,1),(0,n.o2)(u))}function y(){document.querySelectorAll(".main__books-btn").forEach((t=>{t.addEventListener("click",(()=>{const e=t.closest(".main__books-option"),o=e.dataset.id;"buy now"===t.textContent?(console.log(e),h(),console.log("clicked"),t.classList.add("clicked"),t.textContent="in the cart",u.push(o),(0,n.o2)(u)):"in the cart"===t.textContent&&(m(),console.log("clicked 1"),t.classList.remove("clicked"),t.textContent="buy now",g(o))}))}))}function f(){document.querySelector(".main__books-load-btn").addEventListener("click",(()=>{_()}))}async function v(t){try{const e=await fetch(t);return await e.json()}catch(t){throw new Error(t)}}async function _(){const t=await v(c);t&&(t.items.forEach((t=>{const e=t.volumeInfo,o=t.id,s=e.authors?e.authors.join(", "):" ",a=e.imageLinks?e.imageLinks.thumbnail:"https://placehold.co/212x300",r=e.title,c=e.description?e.description:" ",d=t.saleInfo.listPrice?t.saleInfo.listPrice.amount:"",u=t.saleInfo.listPrice?t.saleInfo.listPrice.currencyCode:"",h=e.categories?e.categories:"",m=e.ratingsCount?e.ratingsCount:"",g=new i(o,r,s,c,a,d,u,h,m);p.push(g),(0,n.uh)(p),console.log(p),l.append(g.render())})),y(),f())}const b=localStorage.getItem("books");0===(b?JSON.parse(b):[]).length?(await _(),(0,a.p)(),console.log("NOT from local storage rendered")):((0,n.zy)(),(0,a.p)(),f()),s()}catch(k){s(k)}}),1)},294:(t,e,o)=>{function s(){const t=document.querySelectorAll(".main__books-genre"),e=document.querySelectorAll(".main__books-option");t.forEach((o=>{o.addEventListener("click",(()=>{t.forEach((t=>{t.classList.remove("active")})),o.classList.add("active");const s=o.textContent;e.forEach((t=>{t.dataset.category.includes(s)?t.style.display="flex":t.style.display="none"}))}))}))}o.d(e,{p:()=>s})},218:(t,e,o)=>{o.a(t,(async(t,s)=>{try{o.d(e,{R$:()=>i,o2:()=>r,uh:()=>c,zy:()=>l});var n=o(126),a=t([n]);function r(t){localStorage.setItem("shoppingCart",JSON.stringify(t))}function c(t){localStorage.setItem("books",JSON.stringify(t))}function i(t){localStorage.setItem("count",JSON.stringify(t))}function l(){const t=JSON.parse(localStorage.getItem("books")),e=parseInt(localStorage.getItem("count")),o=document.querySelector(".header__count");e>0&&(o.style.display="flex",o.textContent=e),console.log(t),t.forEach((t=>{const e=new n.MY(t.id,t.title,t.authors,t.description,t.image,t.price,t.currency,t.categories);n.kd.append(e.render())})),(0,n.bE)(),console.log("from local storage rendered")}n=(a.then?(await a)():a)[0],s()}catch(d){s(d)}}))}},a={};function r(t){var e=a[t];if(void 0!==e)return e.exports;var o=a[t]={exports:{}};return n[t](o,o.exports,r),o.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},r.a=(n,a,r)=>{var c;r&&((c=[]).d=-1);var i,l,d,u=new Set,p=n.exports,h=new Promise(((t,e)=>{d=e,l=t}));h[e]=p,h[t]=t=>(c&&t(c),u.forEach(t),h.catch((t=>{}))),n.exports=h,a((n=>{var a;i=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[t])return n;if(n.then){var a=[];a.d=0,n.then((t=>{r[e]=t,s(a)}),(t=>{r[o]=t,s(a)}));var r={};return r[t]=t=>t(a),r}}var c={};return c[t]=t=>{},c[e]=n,c})))(n);var r=()=>i.map((t=>{if(t[o])throw t[o];return t[e]})),l=new Promise((e=>{(a=()=>e(r)).r=0;var o=t=>t!==c&&!u.has(t)&&(u.add(t),t&&!t.d&&(a.r++,t.push(a)));i.map((e=>e[t](o)))}));return a.r?l:r()}),(t=>(t?d(h[o]=t):l(p),s(c)))),c&&c.d<0&&(c.d=0)},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r(237)})();